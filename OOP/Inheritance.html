<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Java OOP - Inheritance Quiz</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        background-color: #f5f7fa;
        color: #333;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
      }

      .quiz-container {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        padding: 30px;
        margin-bottom: 30px;
      }

      h1 {
        color: #2c3e50;
        text-align: center;
        margin-bottom: 30px;
        background: linear-gradient(90deg, #3498db, #9b59b6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .progress {
        text-align: right;
        color: #7f8c8d;
        margin-bottom: 20px;
        font-size: 0.9rem;
      }

      .question {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 20px;
        color: #2c3e50;
      }

      .options {
        margin-bottom: 25px;
      }

      .option {
        padding: 12px 15px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .option:hover {
        background-color: #f0f7fd;
        border-color: #3498db;
      }

      .selected {
        background-color: #d4edff;
        border-color: #3498db;
      }

      .correct {
        background-color: #d4edda;
        border-color: #28a745;
      }

      .incorrect {
        background-color: #f8d7da;
        border-color: #dc3545;
      }

      .feedback {
        padding: 15px;
        border-radius: 5px;
        margin-bottom: 20px;
        display: none;
      }

      .correct-feedback {
        background-color: #d4edda;
        color: #155724;
      }

      .incorrect-feedback {
        background-color: #f8d7da;
        color: #721c24;
      }

      .citation {
        font-style: italic;
        color: #6c757d;
        margin-top: 10px;
        font-size: 0.9rem;
      }

      button {
        background: linear-gradient(90deg, #3498db, #9b59b6);
        color: white;
        border: none;
        padding: 12px 25px;
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        display: block;
        margin: 0 auto;
      }

      button:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
      }

      button:disabled {
        background: #cccccc;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .score-container {
        text-align: center;
        display: none;
      }

      .score {
        font-size: 1.5rem;
        margin-bottom: 20px;
      }

      .restart-btn {
        background: linear-gradient(90deg, #2ecc71, #27ae60);
      }
    </style>
  </head>
  <body>
    <div class="quiz-container">
      <h1>Java OOP - Inheritance Quiz</h1>

      <div class="progress">
        Question <span id="current-question">1</span> of
        <span id="total-questions">0</span>
      </div>

      <div class="question" id="question"></div>

      <div class="options" id="options"></div>

      <div class="feedback" id="feedback"></div>

      <button id="next-btn" disabled>Next Question</button>
    </div>

    <div class="score-container" id="score-container">
      <div class="score" id="score"></div>
      <button class="restart-btn" id="restart-btn">Restart Quiz</button>
    </div>

    <script>
      // Quiz questions - now expanded to 35 questions covering all concepts
      const questions = [
        // Basic Inheritance (5 questions)
        {
          question: "What is the primary purpose of inheritance in Java?",
          options: [
            "To hide implementation details",
            "To allow code reuse and create hierarchical relationships",
            "To improve performance",
            "To make all methods static",
          ],
          answer: 1,
          citation:
            "Page 2: Inheritance allows one class to inherit fields and methods from another, enabling code reuse and hierarchy.",
        },
        {
          question: "Which keyword implements inheritance in Java?",
          options: ["inherits", "extends", "implements", "super"],
          answer: 1,
          citation:
            "Page 2: The 'extends' keyword is used to implement inheritance.",
        },
        {
          question: "What is a superclass?",
          options: [
            "A class that inherits from another",
            "A class that is inherited from",
            "A static class",
            "A class with only final methods",
          ],
          answer: 1,
          citation:
            "Page 2: Superclass is the parent class containing common properties.",
        },
        {
          question: "In the hierarchy Animal → Dog, which is the subclass?",
          options: ["Animal", "Dog", "Both", "Neither"],
          answer: 1,
          citation: "Page 3: Dog extends Animal, making Dog the subclass.",
        },
        {
          question: "What can a subclass inherit from its superclass?",
          options: [
            "Only public methods",
            "Only protected fields",
            "All non-private members",
            "Static members only",
          ],
          answer: 2,
          citation:
            "Page 6: Subclasses inherit all non-private members (public, protected, default if same package).",
        },

        // super keyword (4 questions)
        {
          question: "What does super() do in a constructor?",
          options: [
            "Calls same class constructor",
            "Calls superclass constructor",
            "Creates a super object",
            "Initializes static variables",
          ],
          answer: 1,
          citation: "Page 4: super() calls the superclass constructor.",
        },
        {
          question: "Where must super() appear in a constructor?",
          options: [
            "First statement",
            "Last statement",
            "Anywhere",
            "Only if needed",
          ],
          answer: 0,
          citation: "Page 15: super(...) must be the first statement.",
        },
        {
          question:
            "What happens if you omit super() in a subclass constructor?",
          options: [
            "Compiler inserts super() if superclass has no-arg constructor",
            "Runtime error occurs",
            "Subclass won't compile",
            "Fields get default values",
          ],
          answer: 0,
          citation:
            "Page 16-17: Java inserts super() automatically if superclass has no-arg constructor.",
        },
        {
          question: "How to call an overridden superclass method?",
          options: [
            "super.method()",
            "this.method()",
            "parent.method()",
            "superclass.method()",
          ],
          answer: 0,
          citation:
            "Page 23: Use super.method() to call overridden superclass method.",
        },

        // Method Overriding (6 questions)
        {
          question: "Which annotation ensures proper method overriding?",
          options: ["@Override", "@Overrides", "@Inherit", "@Super"],
          answer: 0,
          citation: "Page 41: @Override helps catch overriding mistakes.",
        },
        {
          question: "What must match when overriding a method?",
          options: [
            "Only method name",
            "Name and return type",
            "Name, parameters, and return type",
            "Only parameters",
          ],
          answer: 2,
          citation:
            "Page 31: Overriding requires same name, parameters, and compatible return type.",
        },
        {
          question: "Can you override a private method?",
          options: [
            "Yes",
            "No - private methods aren't inherited",
            "Only in same package",
            "Only if marked final",
          ],
          answer: 1,
          citation:
            "Page 39: Private methods aren't inherited so can't be overridden.",
        },
        {
          question: "What happens when overriding static methods?",
          options: [
            "Normal overriding occurs",
            "Method hiding occurs",
            "Compile error",
            "Runtime polymorphism works",
          ],
          answer: 1,
          citation:
            "Page 36-37: Static methods can't be overridden - it's method hiding.",
        },
        {
          question: "Can you override a final method?",
          options: [
            "Yes",
            "No - compile error",
            "Only in same package",
            "Only if superclass allows it",
          ],
          answer: 1,
          citation: "Page 40: Final methods cannot be overridden.",
        },
        {
          question: "What is covariant return type in overriding?",
          options: [
            "Returning void instead of a value",
            "Returning a subclass of original return type",
            "Changing return type completely",
            "Making return type final",
          ],
          answer: 1,
          citation:
            "Page 34: Subclass can return a subtype of superclass return type.",
        },

        // Access Modifiers (4 questions)
        {
          question: "Which modifier allows widest subclass access?",
          options: ["private", "protected", "public", "default"],
          answer: 2,
          citation: "Page 6: public members are accessible everywhere.",
        },
        {
          question: "What happens if you reduce access in overriding?",
          options: [
            "Compile error",
            "Runtime error",
            "Works fine",
            "Method becomes private",
          ],
          answer: 0,
          citation:
            "Page 32-33: Can't reduce access (e.g. public → protected).",
        },
        {
          question: "Which modifier shows 'default' access?",
          options: [
            "No modifier",
            "default keyword",
            "package keyword",
            "local keyword",
          ],
          answer: 0,
          citation:
            "Page 6: Default (package-private) access uses no modifier.",
        },
        {
          question: "Where are protected members accessible?",
          options: [
            "Same class only",
            "Same package and subclasses",
            "Anywhere",
            "Subclasses only",
          ],
          answer: 1,
          citation:
            "Page 6: protected allows access in same package and subclasses.",
        },

        // Multiple Inheritance (3 questions)
        {
          question: "Why no multiple class inheritance in Java?",
          options: [
            "Performance issues",
            "Avoids diamond problem",
            "Hard to implement",
            "Security concerns",
          ],
          answer: 1,
          citation: "Page 8-9: Prevents ambiguity (diamond problem).",
        },
        {
          question: "How does Java support multiple inheritance?",
          options: [
            "Using interfaces",
            "With abstract classes",
            "Through final classes",
            "It doesn't",
          ],
          answer: 0,
          citation:
            "Page 10-11: Interfaces allow multiple inheritance of behavior.",
        },
        {
          question: "What must a class do with interface methods?",
          options: [
            "Ignore them",
            "Provide implementations",
            "Make them static",
            "Declare them final",
          ],
          answer: 1,
          citation: "Page 11: Class must implement interface methods.",
        },

        // Constructors (5 questions)
        {
          question: "Are constructors inherited?",
          options: ["Yes", "No", "Only if public", "Only no-arg constructors"],
          answer: 1,
          citation: "Page 14: Constructors are not inherited.",
        },
        {
          question: "What if superclass lacks no-arg constructor?",
          options: [
            "Subclass must call super(...)",
            "Java provides one",
            "Compile error always",
            "Runtime exception",
          ],
          answer: 0,
          citation:
            "Page 16: Must explicitly call super(...) if no default super() exists.",
        },
        {
          question: "Can constructors be overridden?",
          options: ["Yes", "No", "Only if final", "Only in abstract classes"],
          answer: 1,
          citation: "Page 20: Constructors cannot be overridden.",
        },
        {
          question: "What's constructor chaining?",
          options: [
            "Calling other constructors in same class",
            "Making constructors final",
            "Overriding constructors",
            "Hiding constructors",
          ],
          answer: 0,
          citation:
            "Page 18: Using this() to call other constructors in same class.",
        },
        {
          question: "Can you use super() and this() together?",
          options: [
            "Yes",
            "No - only one allowed",
            "Only in static methods",
            "Only in final classes",
          ],
          answer: 1,
          citation: "Page 18: Cannot use super() and this() together.",
        },

        // Field Hiding (3 questions)
        {
          question: "What happens with same-named fields in subclass?",
          options: [
            "Compile error",
            "Fields merge",
            "Subclass field hides superclass field",
            "Runtime exception",
          ],
          answer: 2,
          citation: "Page 26: Subclass field hides superclass field.",
        },
        {
          question: "How to access hidden superclass field?",
          options: [
            "super.field",
            "this.field",
            "parent.field",
            "Cannot access",
          ],
          answer: 0,
          citation:
            "Page 26: Use super.field to access hidden superclass field.",
        },
        {
          question: "Why avoid field hiding?",
          options: [
            "Causes memory leaks",
            "Makes code confusing",
            "Slows performance",
            "Prevents garbage collection",
          ],
          answer: 1,
          citation:
            "Page 27-28: Field hiding can be confusing and is generally discouraged.",
        },

        // Object Class (2 questions)
        {
          question: "What's Java's universal superclass?",
          options: ["Class", "Object", "Super", "Parent"],
          answer: 1,
          citation: "Page 49: All classes implicitly extend Object.",
        },
        {
          question: "Which Object method provides string representation?",
          options: ["toString()", "equals()", "hashCode()", "getClass()"],
          answer: 0,
          citation: "Page 49: toString() provides string representation.",
        },

        // Polymorphism (3 questions)
        {
          question: "What can reference variables of superclass type hold?",
          options: [
            "Only superclass objects",
            "Only subclass objects",
            "Superclass or subclass objects",
            "Nothing - must be initialized",
          ],
          answer: 2,
          citation:
            "Page 51: Superclass reference can point to subclass object.",
        },
        {
          question: "What determines which overridden method executes?",
          options: [
            "Reference type",
            "Actual object type",
            "Compile-time type",
            "Random selection",
          ],
          answer: 1,
          citation:
            "Page 30: Method called depends on actual object type (runtime polymorphism).",
        },
        {
          question: "What can you store in superclass-type arrays?",
          options: [
            "Only superclass objects",
            "Only one type of subclass",
            "Any subclass objects",
            "Nothing - arrays are fixed",
          ],
          answer: 2,
          citation:
            "Page 52: Can store different subclass objects in superclass array.",
        },
      ];

      // Shuffle the questions array
      function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      // Quiz state variables
      let currentQuestionIndex = 0;
      let score = 0;
      let shuffledQuestions = [];
      let selectedOption = null;
      let answerSubmitted = false;

      // DOM elements
      const questionElement = document.getElementById("question");
      const optionsElement = document.getElementById("options");
      const feedbackElement = document.getElementById("feedback");
      const nextButton = document.getElementById("next-btn");
      const currentQuestionSpan = document.getElementById("current-question");
      const totalQuestionsSpan = document.getElementById("total-questions");
      const scoreContainer = document.getElementById("score-container");
      const scoreElement = document.getElementById("score");
      const restartButton = document.getElementById("restart-btn");

      // Initialize the quiz
      function initQuiz() {
        shuffledQuestions = shuffleArray([...questions]);
        currentQuestionIndex = 0;
        score = 0;
        totalQuestionsSpan.textContent = shuffledQuestions.length;
        showQuestion();
        scoreContainer.style.display = "none";
      }

      // Display the current question
      function showQuestion() {
        answerSubmitted = false;
        selectedOption = null;
        feedbackElement.style.display = "none";
        nextButton.disabled = true;
        nextButton.textContent = "Next Question";

        const currentQuestion = shuffledQuestions[currentQuestionIndex];
        currentQuestionSpan.textContent = currentQuestionIndex + 1;

        questionElement.textContent = currentQuestion.question;
        optionsElement.innerHTML = "";

        currentQuestion.options.forEach((option, index) => {
          const optionElement = document.createElement("div");
          optionElement.classList.add("option");
          optionElement.textContent = option;
          optionElement.dataset.index = index;
          optionElement.addEventListener("click", selectOption);
          optionsElement.appendChild(optionElement);
        });
      }

      // Handle option selection
      function selectOption(e) {
        if (answerSubmitted) return;

        // Remove selected class from all options
        document.querySelectorAll(".option").forEach((opt) => {
          opt.classList.remove("selected");
        });

        // Add selected class to clicked option
        const selectedElement = e.target;
        selectedElement.classList.add("selected");
        selectedOption = parseInt(selectedElement.dataset.index);

        // Enable next button
        nextButton.disabled = false;
      }

      // Check the answer and show feedback
      function checkAnswer() {
        if (selectedOption === null || answerSubmitted) return;

        answerSubmitted = true;
        const currentQuestion = shuffledQuestions[currentQuestionIndex];
        const isCorrect = selectedOption === currentQuestion.answer;

        // Disable all options
        document.querySelectorAll(".option").forEach((opt) => {
          opt.style.pointerEvents = "none";
        });

        // Highlight correct answer
        document.querySelectorAll(".option").forEach((opt, index) => {
          if (index === currentQuestion.answer) {
            opt.classList.add("correct");
          } else if (index === selectedOption && !isCorrect) {
            opt.classList.add("incorrect");
          }
        });

        // Update score
        if (isCorrect) {
          score++;
        }

        // Show feedback
        feedbackElement.textContent = isCorrect
          ? "Correct! " + currentQuestion.citation
          : "Incorrect. The correct answer is: " +
            currentQuestion.options[currentQuestion.answer] +
            ". " +
            currentQuestion.citation;
        feedbackElement.className =
          "feedback " + (isCorrect ? "correct-feedback" : "incorrect-feedback");
        feedbackElement.style.display = "block";

        // Change button text if it's the last question
        if (currentQuestionIndex === shuffledQuestions.length - 1) {
          nextButton.textContent = "See Results";
        }
      }

      // Move to the next question or show results
      function nextQuestion() {
        if (!answerSubmitted) {
          checkAnswer();
          return;
        }

        if (currentQuestionIndex < shuffledQuestions.length - 1) {
          currentQuestionIndex++;
          showQuestion();
        } else {
          showResults();
        }
      }

      // Show the final results
      function showResults() {
        document.querySelector(".quiz-container").style.display = "none";

        scoreElement.textContent = `You scored ${score} out of ${shuffledQuestions.length}!`;
        scoreContainer.style.display = "block";
      }

      // Event listeners
      nextButton.addEventListener("click", nextQuestion);
      restartButton.addEventListener("click", () => {
        document.querySelector(".quiz-container").style.display = "block";
        initQuiz();
      });

      // Start the quiz
      initQuiz();
    </script>
  </body>
</html>
